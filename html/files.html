<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QIF Library Documentation: File List</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QIF Library Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0"
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Tutorial</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock">Here is a tutorial to explain how to create and use distributions, channels, functions and so on.</div><div class="directory">

<h2>Table of Contents</h2>

<ul>
  <li><a href= "#creating_distributions">Creating distributions</a></li>
  <li><a href= "#using_distributions">Using distributions</a></li>
  <li><a href= "#creating_channels">Creating channels</a></li>
  <li><a href= "#using_channels">Using channels</a></li>
  <li><a href= "#creating_hd">Creating hyper-distributions</a></li>
  <li><a href= "#using_hd">Using hyper-distributions</a></li>
  <li><a href= "#creating_gain_functions">Creating gain functions</a></li>
  <li><a href= "#using_gain_functions">Using gain functions</a></li>
  <li><a href= "#using_functions">Using measure functions</li></a>
</ul>

<hr>

<h2 id="creating_distributions">Creating distribtuions</h2>
<div class="textblock">
  A probability distribution is represented as a vector of <code>long double</code> numbers, which:
  <ul>
    <li>The sum of all numbers in the vector is 1;</li>
    <li>Every number is in the interval [0,1].</li>
  </ul>

To create an object <b>Distribution</b>, you shall use its constructor, and there are 3 options:

<ul style="list-style-type:circle;">
<li><u>Read the distribution from a file</u></li>

You can read it from a file in the following format:
<pre class="fragment">n
p1
p2
...
pn</pre>
<p>where <code>n</code> is the number of elements in the distribution and <code>pi</code> is the probability of the ith element occurs.</p>

Suppose you have a file <code>prior_distribution.txt</code> containing the distribution. To create a distribution, you shall use:
<pre class="fragment">
<a style="color:#0066ff">Distribution</a> dist(<a style="color:#b3b300">"prior_distribution.txt"</a>);
</pre>

<br><br>
<li><u>Use an existing vector of numbers</u></li>
You just have to use the constructor and give the vector of numbers. The type
of the vector must be a <code>std::vector&lt;long double&gt;</code>.
<br>
To create a distribution from a vector <code>v</code> you shall use:
<pre class="fragment">
std::vector&lt;<a style="color:#0066ff">long double</a>&gt;<a style="color:#0066ff"> v</a>({0.25, 0.25, 0.5});
<a style="color:#0066ff">Distribution</a> dist(v);
</pre>

<br><br>
<li><u>Create a random or uniform distribution</u></li>
To create an uniform distribution, the first parameter of the constructor must be
the number of elements and the second parameter <code>"uniform"</code>.
<br>
For example, to create an uniform distribution with 5 elements you shall use:
<pre class="fragment">
<a style="color:#0066ff">Distribution</a> dist(5, <a style="color:#b3b300">"uniform"</a>);
</pre>

<br>
To create a random distribution, the first argument of the constructor must be
the number of elements and the second parameter <code>"random"</code>.
<br>
For example, to create a random distribution with 10 elements, you shall use:
<pre class="fragment">
<a style="color:#0066ff">Distribution</a> dist(10, <a style="color:#b3b300">"random"</a>);
</pre>
</ul>

<br>
<h2 id="using_distributions">Using distributions</h2>

Suppose you have created a new distribution using one of the constructors above and stored it in the variable <b><code>dist</code></b>.

<br>
<h3>Accessing the elements</h3>
<p>To get the probability of each element, you have to access the attribute vector <b><code>prob</code></b>.
The elements in <code>prob</code> are indexed from 0 to <code>n-1</code>, where <code>n</code> is the number of elements in the probability distribution.
For example, to get the fourth element of the distribution, you use the index 3:</p>
<pre class="fragment">
<a style="color:#0066ff">long double</a> prob_fourth_element = dist.prob[3];
</pre>

<br>
<h3>Getting the number of elements</h3>
The number of elements is stored in the attribute <b><code>num_el</code></b>.
<pre class="fragment">
<a style="color:#0066ff">int</a> number_elements = dist.num_el;
</pre>

<br>
<h3>Printing</h3>
To print the distribution on the screen, you can use the method <code>toString()</code>.
It has one parameter: the precision of the probabilities.
This method returns a <code>std::string</code>.
<br>
For example, if you want to get a string with precision of 4, you shall use:
<pre class="fragment">
std::string d = dist.toString(4);
std::cout << d << std::endl;
</pre>

<br>
The result is the following:
<pre class="fragment">
0.2500 0.2500 0.5000
</pre>

<br>
For more details, see the documentation of <a href="classDistribution.html#a4d0b69f7838f42a9b24891930c7b886c">Distribution::toString()</a>.

<br>
You can also print the distribution right into a file using the method <code>printToFile()</code>. See the documentation of <a href="classDistribution.html#aadc1ad2ae8a06be2cf941377225f7932">Distribution::printToFile()</a>.

<br><br>
For more details about the class, see the documentation <a href="classDistribution.html">here</a>.

<br><br>
<hr><hr>

<h2 id="creating_channels">Creating channels</h2>
An informational channel can be represented as a matrix <code>n</code> x
<code>y</code>, where <code>n</code> is the number of secrets (the rows),
<code>y</code> is the number of possible outputs (the columns) and each cell
(x<sub>i</sub>,y<sub>j</sub>) is the conditional probability p(y<sub>j</sub>|x<sub>i</sub>).

<p>Before creating a channel, you must already have an object
<b>Distribution</b>, which contains the <i>prior distribution</i> on the set
of secrets. The set of secrets of the channel must be the same as the set
from the prior distribution. After that, to create a <b>Channel</b> object
you shall use its constructor, and there are 3 options:</p>

<ul style="list-style-type:circle;">
<li><u>Read the channel from a file</u></li>
You can read it from a file in the following format:
<pre class="fragment">n y
p11 p12 ... p1y
p21 p22 ... p2y
...
pn1 pn2 ... pny
</pre>

<br>
Suppose you have a file called <code>channel.txt</code>. To create a channel you shall use:
<pre class="fragment">
<a style="color:#0066ff">Distribution</a> dist(<a style="color:#b3b300">"prior_distribution.txt"</a>);
<a style="color:#0066ff">Channel</a> channel(dist, <a style="color:#b3b300">"channel.txt"</a>);
</pre>

<br><br>
<li><u>Use an existing matrix of numbers</u></li>
You just have to use the constructor and give the matrix. The type of the matrix
must be a <code>std::vector&lt;std::vector&lt;long double&gt;&gt;</code>.
<br>
To create a matrix from a matrix <code>M</code> you shall use:
<pre class="fragment">
<a style="color:#0066ff">Distribution</a> dist(<a style="color:#b3b300">"prior_distribution.txt"</a>);
std::vector&lt;std::vector&lt;<a style="color:#0066ff">long double</a>&gt;&gt;<a style="color:#0066ff"> M</a>({{0.25, 0.25, 0.50},
                                         {0.30, 0.30, 0.40},
                                         {1.00, 0.00, 0.00}});
<a style="color:#0066ff">Channel</a> channel(dist, M);
</pre>


<br><br>
<li><u>Generate a random channel</u></li>
To create a random channel, the first parameter of the constructor must be the
prior distribution and the second parameter the number of outputs of the channel.
<br>
For example, to create a channel with 3 possible outputs, you shall use:
<pre class="fragment">
<a style="color:#0066ff">Distribution</a> dist(<a style="color:#b3b300">"prior_distribution.txt"</a>);
<a style="color:#0066ff">Channel</a> channel(dist, 3);
</pre>
</ul>

<br>
<h2 id="using_channels">Using channels</h2>
Suppose you have created a channel using one of the constructors above and
stored it in the variable <code><b>channel</b></code>.

<h3>Acessing the prior distribution</h3>
There is a pointer to a Distribution object: <code><b>prior</b></code>.
You can get, for example, the number of secrets:
<pre class="fragment">
<a style="color:#0066ff">int</a> number_secrets = channel.prior->num_el;
</pre>

<br>
<h3>Acessing the matrix channel</h3>
To get a conditional probability from the matrix, you have to access the
attribute <code><b>matrix</b></code>. The rows are indexed from 0 to
<code>n-1</code>, where <code>n</code> is the number of secrets, and the columns
are indexed from 0 to <code>y-1</code>, where <code>y</code> is the number of
outputs.
<br>
For example, to get the probability p(y<sub>3</sub>|x<sub>2</sub>),
you shall use:
<pre class="fragment">
<a style="color:#0066ff">long double</a> p = channel.matrix[2][1];
</pre>

<br>
<h3>Getting the number of outputs from the channel</h3>
The number of outputs is stored in the attribute <code><b>num_out</b></code>.
<pre class="fragment">
<a style="color:#0066ff">int</a> number_outputs = channel.num_out;
</pre>

<br>
<h3>Printing</h3>
To print the channel on the screen, you can use the method <code>toString()</code>.
It has one parameter: the precision of the probabilities. This method returns a
<code>std::string</code>.
<br>
For example, if you want to get a string with precision of
4, you shall use:
<pre class="fragment">
std::string c = channel.toString(4);
std::cout << c << std::endl;
</pre>

<br>
The result is the following:
<pre class="fragment">
0.2500 0.2500 0.5000
1.0000 0.0000 0.0000
0.9000 0.0100 0.0900
</pre>

<br>
For more details, see the documentation of <a href="classChannel.html#a2d97d823f68fe35f4c35dc04ebee3114">Channel::toString()</a>.

<br>
You can also print the channel right into a file using the method <code>printToFile()</code>. See the documentation of <a href="classChannel.html#aa7823e1aa1dea119ae0bf41d42f24b31">Channel::printToFile()</a>.

<br><br>
For more details about the class, see the documentation <a href="classChannel.html">here</a>.

<br><br>
<hr><hr>

<h2 id="creating_hd">Creating hyper-distributions</h2>

A hyper-distribution is a distribution on distributions on a set of secrets.
Each output in an informational channel is a possible "world", and each possible
world is a new distribution on the set of secrets. We call the possible worlds
the <i>inner distributions</i>. Each possible world has a probability to occur, and we
call the distribution on the possible worlds as the <i>outer distribution</i>.

<br><br>
Before creating a <code><b>Hyper</b></code> object, you need to have a channel
and a prior distribution on a set of secrets.

<br>
After that, to create a Hyper object you shall use its constructor, and there are 2 options:

<ul style="list-style-type:circle;">
<li><u>Read the prior distribution and the channel from files</u></li>
You can read the prior distribution on a set of secrets and the channel from files.

<br><br>
The prior distribution must be in the following format:
<pre class="fragment">
n
p1
p2
...
pn
</pre>
where <code>n</code> is the number of secrets and <code>pi</code> is the probability
of the ith secret occurs.

<br><br>
The channel must be in the following format:
<pre class="fragment">n y
p11 p12 ... p1y
p21 p22 ... p2y
...
pn1 pn2 ... pny
</pre>
where <code>n</code> is the number of secrets (the rows), <code>y</code> is
the number of possible outputs (the columns) and each cell (x<sub>i</sub>,y<sub>j</sub>)
is the conditional probability p(y<sub>j</sub>|x<sub>i</sub>).

<br><br>
Suppose you have the prior distribution in a file called <code>prior_distribution.txt</code> and
a channel in a file called <code>channel.txt</code>.
<br>
To create the hyper-distribution you shall use:
<pre class="fragment">
<a style="color:#0066ff">Hyper</a> hyper(<a style="color:#b3b300">"prior_distribution.txt"</a>, <a style="color:#b3b300">"channel.txt"</a>);
</pre>


<br><br>
<li><u>Use an existing Distribution and Channel objects</u></li>
You just have to use the constructor and give two objects: The first one is a Distribution
and the second one is a Channel. You shall use:
<pre class="fragment">
<a style="color:#0066ff">Distribtion</a> prior(<a style="color:#b3b300">"prior_distribution.txt"</a>);
<a style="color:#0066ff">Channel</a> channel(<a style="color:#b3b300">"channel.txt"</a>);
<a style="color:#0066ff">Hyper</a> hyper(prior, channel);
</pre>
</ul>

<br><br>

<h2 id="using_hd">Using hyper-distributions</h2>
Suppose you have created a hyper-distribution object and stored it in a variable <code><b>hyper</b></code>.

<br>
<h3>Accessing the prior distribution and the channel</h3>
There are two pointers to the prior distribution on the set of secrets and to the channel:
<code><b>prior</b></code> and <code><b>channel</b></code> respectively.
<br>
For example, you can access the number of secrets and the number of outputs of the channel:
<pre class="fragment">
<a style="color:#0066ff">int</a> number_secrets = hyper.prior->num_el;
<a style="color:#0066ff">int</a> number_outputs = hyper.channel->num_out;
</pre>

<br>
<h3>Accessing the joint distribution</h3>
When you mutiply the prior distribution by each column of the channel matrix, you obtain the <b>joint distribution</b>.
<br>
A <code>Hyper</code> object has an attribute called <code><b>joint</b></code> to keep the joint distribtuion,
and it is a <code>std::vector&lt;std::vector&lt;long double&gt;&gt;</code>. There are <code>n</code> rows indexed from
0 to <code>n</code>-1, where <code>n</code> is the number of secrets and there are <code>y</code> columns indexed from
0 to <code>y</code>-1, where <code>y</code> is the number of outputs of the channel.

<br><br>
For example, to access the joint probability p(x<sub>1</sub>,y<sub>4</sub>) you shall use:
<pre class="fragment">
<a style="color:#0066ff">long double</a> prob_x1_y4 = hyper.joint[0][3];
</pre>

<br>
<h3>Accessing the outer distributon</h3>
A <code>Hyper</code> object has an attribute called <code><b>outer</b></code> to keep the outer distribution,
and it is a <code>Distribution</code> object.
<br>
For example, to access the probability p(y<sub>2</sub>) of the 2<sup>nd</sup> output occur, you shall use:
<pre class="fragment">
<a style="color:#0066ff">long double</a> prob_second_output = hyper.outer.prob[1];
</pre>

<br>
<h3>Accessing the inner distributions</h3>
A <code>Hyper</code> object has an attribute called <code><b>inners</b></code> to keep the inner distribtuions,
and it is a <code>std::vector&lt;std::vector&lt;long double&gt;&gt;</code>. There are <code>n</code> rows indexed from
0 to <code>n</code>-1, where <code>n</code> is the number of secrets and there are <code>y</code> columns indexed from
0 to <code>y</code>-1, where <code>y</code> is the number of outputs of the channel.
<br>
For example, to access the conditional probability p(x<sub>2</sub>|y<sub>1</sub>) you shall use:
<pre class="fragment">
<a style="color:#0066ff">long double</a> prob_x2_y1 = hyper.inners[1][0];
</pre>

<br>
<h3>Changing the prior distribution or the channel</h3>
If you have already created a hyper-distribution and need to change the prior
distribution or the channel, it is possible.
<br>
For example, to change the prior, you can create a <i>new</i> <code>Distribution</code>
object at replace the pointer <code><b>prior</b></code>:
<pre class="fragment">
<a style="color:#0066ff">Hyper</a> hyper(<a style="color:#b3b300">"prior_distribution.txt"</a>, <a style="color:#b3b300">channel.txt</a>);

<a style="color:#c2c2d6">// Change the prior distribution</a>
free(hyper.prior);
hyper.prior = new Distribution(<a style="color:#b3b300">"new_prior.txt"</a>);
</pre>

<br>
<h3>Printing</h3>
To print the joint, the outer or the inners, you can use the method <code>toString()</code>.
It has two parameters:
<ul>
  <li>First: What you want to print. It must be <code>"joint"</code>, <code>"outer"</code>
    or <code>"inners"</code>;</li>
  <li>Second: The precision of the probabilities.</li>
</ul>
This method returns a <code>std::string</code>.
<br>
For example, if you want to get a string of the joint matrix with precision of 3, you shall use:
<pre class="fragment">
std::string joint_matrix = hyper.toString(<a style="color:#b3b300">"joint"</a>, 3);
std::cout << joint_matrix << std::endl;
</pre>
<br>
The result is the following:
<pre class="fragment">
0.062 0.062 0.125
0.250 0.000 0.000
0.000 0.500 0.000
</pre>

<br>

For more details, see the documentation of <a href="classHyper.html#ac81a36d52602879830b2c49cc46f0b19">Hyper::toString()</a>.

<br>
You can also print the joint, the outer and the inners right into a file using the method <code>printToFile()</code>.
See the documentation of <a href="classHyper.html#a6907c18d1a6810d1ab052ad08bc1bf1f">Hyper::printToFile()</a>.

<br><br>
For more details about the class, see the documentation <a href="classHyper.html">here</a>.

<br><br>
<hr><hr>

<h2 id="creating_gain_functions">Creating gain functions</h2>

<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
